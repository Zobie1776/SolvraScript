//=====================================================
// File: math_transcendental_test.svs
// Goal: Validate exp/log/pow helpers for stdx.math
//=====================================================

import "../src/stdx/math.svs" as math;
import "../src/stdx/core.svs" as core;
import "../src/stdx/string.svs" as string;
import "../src/stdx/path.svs" as path;
import "../src/stdx/datetime.svs" as dt;
import "../src/stdx/random.svs" as rnd;
import "../src/stdx/fs.svs" as fs;

let TOL = 0.0000001;

fn assert_close(a, b, tol) {
    return math.abs(a - b) <= tol;
}

fn test_exponentials() {
    let e = math.exp(1);
    let exp2 = math.exp2(3);
    let expm1_small = math.expm1(0.0005);
    let log_e = math.log(e);
    let log10_val = math.log10(1000);
    let log2_val = math.log2(32);
    let log1p_val = math.log1p(0.5);

    return assert_close(e, math.E, TOL)
        && assert_close(exp2, 8.0, TOL)
        && expm1_small > 0
        && assert_close(log_e, 1.0, TOL)
        && assert_close(log10_val, 3.0, TOL)
        && assert_close(log2_val, 5.0, TOL)
        && log1p_val > 0;
}

fn test_power_and_root() {
    let sqrt_val = math.sqrt(81);
    let pow_val = math.pow(2, 5);
    let hyp = math.hypot(3, 4);
    return assert_close(sqrt_val, 9.0, TOL)
        && assert_close(pow_val, 32.0, TOL)
        && assert_close(hyp, 5.0, TOL);
}

fn main() {
    return test_exponentials() && test_power_and_root();
}

//=====================================================
// End of file
//=====================================================
