//==================================================
// File: tests/stdlib/use_std_fs.svs
//==================================================
// Author: ZobieLabs
// License: Apache License 2.0
// Goal: Exercise <fs> stdlib module through basic filesystem calls
// Objective: Validate read/write handle forwarding and path helpers
//==================================================

import <fs>;
import <string>;

const SAMPLE_PATH = "tests/stdlib/fixtures/fs_sample.txt";

fn main() {
    let raw = fs.read_file(SAMPLE_PATH);
    let exists = fs.fs_exists(SAMPLE_PATH);

    let joined = fs.path_join("tests/stdlib/fixtures", "fs_sample.txt");
    let joined_exists = fs.fs_exists(joined);

    let handle = fs.open_file(SAMPLE_PATH, "r");
    let via_handle = fs.read_file(handle);
    fs.close_file(handle);

    let home = fs.path_home_dir();

    return {
        ok: exists && joined_exists && raw == via_handle,
        length: string.len(raw),
        home_is_string: type(home) == "string",
    };
}

main();

//==================================================
// End of file
//==================================================
